<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rocketseat - Ignite - ReactJS - Projeto 01 - Anotações</title>
  </head>
  <body>
    <h1>Rocketseat - Ignite - ReactJS - Projeto 01 - Anotações</h1>

    <h2>Iniciando com React</h2>

    <h3>Introdução</h3>
    <p>
      Construir um projeto prático em React com os principais conceitos como
      estado, imutabilidade, fluxo de renderização, TS aplicado ao React, etc.
    </p>

    <h3>Fundamentos do ReactJS</h3>
    <p>
      Padrão - Server Side Rendering (SSR) - toda a informação (backend e
      frontend) é carregada no servidor e somente enviada ao brownser para
      interpretação e visualização já em HTML e CSS. Nova - Single Page
      Application (SPA) - backend informa apenas os dados solicitados via JSON
      (pode ser interpretada por várias tecnologias diferentes) e uma segunda
      aplicação separada (ou várias) que irá converter os dados para HTML e CSS,
      no caso, essa aplicação é o React. Assim podemos ter uma única fonte de
      dados para diferentes aplicações Web, Mobile, etc. Tendo ganhos de
      manutenabilidade.
    </p>

    <h3>Bundlers & Compilers</h3>
    <p>
      Nem sempre os brownsers vão suportar a versão mais atual do JS que estamos
      usando, mas podemos usar ferramentas para que a apliação rode em ambientes
      específicos. Essas ferramentas se chamam bundlers e compilers. Compilers
      são ferramentas que convertem os códigos de um formato para outro, por
      exemplo o Babel. Bundlers são ferramentas que iram agrupar arquivos em JS
      pois normalmente construímos alguma aplicação em arquivos separados para
      que cada um tenha sua função e seja de fácil manutenção, o mais famoso é o
      Webpack. No site "Can I use?" podemos verificar quais es modules
      (importação de arquivos separados) são suportadas pelos brownsers. Podemos
      usar no lugar do Webpack o Vite, que é mais eficiente e já faz o
      compiling.
    </p>

    <h3>Criando um projeto React</h3>
    <p>
      Fazendo o setup do projeto usando Vite. Primeiramente instalamos o node e
      se necessário um gerenciador de versões do node. Criado o projeto dentro
      da pasta Projeto01 usando o vite. Instalar o npm dentro do projeto e
      executar o npm run dev para confirmar que a aplicação está funcionando. O
      vite possui o fast refresh, que é a atualização instantânea da aplicação
      quando alteramos o código. O vite utiliza formatos de módulo nos brownsers
      para fazer a importação do código da aplicação e o react renderiza o
      código para o HTML a partir do JS, portanto toda a aplicação depende do
      JS.
    </p>

    <h3>Componentes</h3>
    <p>
      Entendendo o conceito de componentes que não é só usado no react mas na
      maioria das interfaces front-end. Um componente é um pedaço da aplicação
      que pode ser replicada e executada independentemente e com inputs
      diferentes. É basicamente uma função que retorna um HTML e possui extensão
      JSX (JS + XML). Para ter vários elementos repetidos no JSX precisamos ter
      um elemento em torno deles, no caso podemos usar uma div. Para exportarmos
      um HTML de um componente podemos usar o default, onde podemos dar um nome
      para o retorno na importação e não na exportação, mas podemos também
      exportar named exports que garante que exportaremos o retorno com o nome
      correto, fazemos isso colocando o export logo junto da função e na
      importação usamos chaves.
    </p>

    <h3>Propriedades</h3>
    <p>
      São informações que podemos passar para os componentes, por exemplo nos
      posts podemos ter conteúdos diferentes, imagem, autor, número de likes,
      etc. As propriedades são as características que diferenciam os componentes
      do mesmo tipo. Elas podem ser acessadas como parâmetros dentro da função.
      Assim podemos reaproveitar o HTML e o CSS dos componentes alterando
      somente o conteúdo via propriedades, podemos usar esse mecanismo para
      outros elementos.
    </p>

    <h2>Estrutura da Aplicação</h2>

    <h3>CSS Modules</h3>
    <p>
      Overview do projeto, será um feed com posts e comentários. Copiamos o
      layout para nossa conta do figma e desenvolvemos o header. Pra fazer a
      importação do css usamos diretamente os arquivos em JSX e não mais pelo
      HTML. Precisamos tomar cuidado com o escopo atrelado ao componente quando
      estilizamos no react. Se estilizarmos somente o post por exemplo, não
      queremos que isso afete os demais, para isso usamos os CSS modules
      (extensão module.css nos arquivos). Detalhe: é importante utilizarmos os
      componentes com inicial maiúscula para não confundirmos com as tags HTML.
      Da forma como fizemos no projeto podemos usar a tag HTML header novamente
      em outros lugares da aplicação sem que essa sofra o efeito de estilização
      das configurações específicas de cada componente, por isso é gerada a hash
      do module.css.
    </p>

    <h3>CSS Global</h3>
    <p>
      Muitas vezes desejamos sim compartilhar características entre os
      componentes e para isso podemos criar os CSS globais. Neste caso usamos o
      arquivo global.css importado diretamente no App. Importamos as fontes que
      vamos utilizar do google no HTML, definimos as variáveis padrão e setamos
      parâmetros básicos no body, input, textarea e button (estes outros
      elementos não herdam as configurações CSS do body) no CSS global da nossa
      aplicação.
    </p>

    <h3>Componente: Header</h3>
    <p>
      Editamos o componente Header da aplicação ajustando cor, tamanho e
      inserindo a logo. Para realizar a importação de imagens, usamos o próprio
      JS quando estamos dentro dos componentes e a importação trará o caminho da
      mesma, portanto na src da img colocamos a variável JS criada.
    </p>

    <h3>Componente: Sidebar</h3>
    <p>
      Construindo o componente Sidebar, mas antes de iniciar sua configuração
      preparamos o App para receber os elementos e separar os espaços do aside e
      o main, para isso usamos um css module específico para o App e não mais o
      global. Agora criamos o componente em jsx e o seu módulo css para
      estilização, na sequência já inserimos os elementos e realizamos as
      configurações necessárias (notas de configurações específicas no css).
    </p>

    <h3>Finalizando Sidebar</h3>
    <p>
      Adicionando a imagem de perfil no Sidebar e configurando as bordas e
      posição final. Configurando também o nome de usuário e a profissão. Para
      finalizar adicionamos o ícone de lapis no botão e configuramos seu tamanho
      e posição. Para adicionarmos o ícone usamos uma biblioteca de ícones em
      React e adicionamos como um componente no Sidebar.
    </p>

    <h3>Componente: Post</h3>
    <p>
      Iniciamos a criação dos arquivos post, ponto importante é não criar uma
      estrutura de pastas grande demais, mas sim nomear os arquivos de forma
      clara e intuitiva para facilitar a manutenção. Iniciamos a contrução dos
      elementos HTML do Post e aqui é importante notar que no react não usamos
      hifen ou junção simples de palavras nos atributos, mas sim o cammel case.
    </p>

    <h3>Estilizações do Post</h3>
    <p>
      Fizemos nessa etapa a estilização do Post, ponto importante é que podemos
      usar a notação tag + tag para nos referirmos a qualquer post que tenha um
      post anteriormente, usamos no caso a aplicação de margem superior. Outro
      ponto importante é o espaço no react deve ser feito por meio de uma string
      dentro de chaves, conforme demonstrado entre das #s do post.
    </p>

    <h3>Formulário de Comentários</h3>
    <p>
      Foi elaborada a área de comentário com chamada, textarea e botão.
      Utilizamos o focus-within para tornar o botão visível quando estamos dando
      foco em qualquer elemento dentro do commentForm, no caso o textarea e o
      próprio button. Além disso, foi estilizada a área de comentários via
      module.css do próprio elemento post.
    </p>

    <h3>Componente: Comment</h3>
    <p>
      Criando a estrutura HTML dos comentários via componente em jsx.
      Adicionando os comentários numa lista no componente post. Preparando o
      conteúdo estático para estilização usando module.css de mesmo nome do
      componente. Importando os simbolos do pacote phosper instalado
      anteriormente.
    </p>

    <h3>Estilizações do Comentário</h3>
    <p>
      Foi desenvolvida a estilização do component comentário com todos as
      pseudo-classes e pseudo-elementos necessários. Usamos configurações de CSS
      básicas, somente para o elemento span dentro do botão do footer (número 20
      indicando likes) adicionamos um pseudo-elemnto via CSS para criar o
      pontinho separando o texto Aplaudir e o número em si.
    </p>

    <h3>Componente: Avatar</h3>
    <p>
      Nessa aula retiramos do sidebar, post e comentários o Avatar e
      transformamos em um componente externo. Para as configurações de borda
      específicas e caminho da img usamos as propriedades e para simplificar
      utilizamos a desestruturação de objetos onde retiramos o valor de dentro
      das propriedades para setar um default para o hasBorder.
    </p>

    <h3>Aplicando responsividade</h3>
    <p>
      Adicionamos responsividade para colocar o sidebar acima do conteúdo quando
      tivermos uma tela pequena e também uma letra ligeiramente menor para
      dispositivos mobile. Ponto importante da letra é que foi inserida na tag
      html pois afetará todas as dimensões relativas (em rem) e foi colocado em
      percentual para não perder as características configuradas pelo usuário em
      seu dispositivo, por exemplo fontes maiores. Caso o valor fosse em px fixo
      o usuário não iria conseguir alterar o tamanho da letra.
    </p>

    <h2>Os motores do React</h2>

    <h3>Iterando no JSX</h3>
    <p>
      Desenvolvido o array de posts com todas as propriedades e objetos
      necessários. Ponto importante na iteração no JSX é que devemos usar map
      por que o método forEach não tem retorno e precisamos ter um return para
      passar as propriedades específicas de cada post para o componente Post. No
      componente, podemos acessar as proriedades passadas via props.
    </p>

    <h3>Propriedades do Post</h3>
    <p>
      Usando as propriedades passadas no App dentro do post usando descontrução
      para facilitar o processo, dessa forma cada author e content terá os dados
      corretos de cada post. Formatamos a data pacote date-fns para termos todos
      os formatos que queremos. Também usamos o map para percorrer o array e
      exibir o conteúdo do post.
    </p>

    <h3>Estado (useState)</h3>
    <p>
      Usando o conceito de estado para adicionar comentários nos posts, fazemos
      uso também do spread operator para que a função de atualização do estado
      do array de comentários sejá acrescido de um novo valor sempre que
      clickarmos em publicar. Ponto importante é que como a função de publicação
      de comentários foi feita dentro do componente post o seu funcionamento
      será "escopado", ou seja, não será propagados para outros componentes,
      tornando os comentários dos dois posts independentes.
    </p>

    <h3>Inserindo Comentários (Programação declarativa)</h3>
    <p>
      Acrescentamos o texto nos comentários via um novo estado e uma nova função
      para capturar este estado, também editamos a atulização do post para
      capturar este novo valor. Ponto importante é que foi utilizado a
      programação declarativa para fazer com que a textarea sempre tenha o valor
      do estado do newCommentText assim não usamos nada de imperativo no código.
    </p>

    <h3>Entendendo a key</h3>
    <p>
      A key é uma propriedade interna do react que deve ser única para cada
      elemento de uma lista, que no caso são as estruturas de repetição (ex:
      map). No caso, devem ser únicas dentro do contexto de cada elemento, por
      exemplo duas linhas de posts diferentes com mesma key é ok. Não há
      problema em utilizar texto grande ou conteúdo, mas é melhor usar id. A key
      é importante para quando um componente pai for renderizado novamente e
      isso desencadeia para os filhos, o react usa a key para localizar e
      acelerar o processo de renderização. Não é recomendado usar o índice do
      array como key pois mudanças de posição podem causar erros na aplicação.
      Mesmo com atualização de tela, remoção, alteração de posição, adição o
      valor da key não pode mudar.
    </p>

    <h3>Comunicação entre componentes</h3>
    <p>
      Além de passarmos strings e números como propriedades para um componente,
      podemos também passar funções. E são através delas que os componentes se
      comunicam entre si, pois criamos uma função no componente pai que irá
      altera algo nele e passamos ela ao componente filho para que este "avise"
      ou dê o gatilho para a execução da função, usamos como exemplo a função de
      deletar comentário.
    </p>

    <h3>Removendo comentários (imutabilidade)</h3>
    <p>
      Imuatabilidade = as variáveis não sofrem mutação ou alteração na memória,
      mas sim são criados novos valores ou espaços na memória. Isso é feito pela
      função setComments por exemplo, que cria um novo valor para a variável
      comments. Assim criamos uma nova lista sem o comentário a ser deletado e
      usamos a função citada para atualizar o valor dos comentários.
    </p>
  </body>
</html>
